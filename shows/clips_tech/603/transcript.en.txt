today we are going to be checking out
our BitTorrent server yes I built this
back on episode number 597 with Sascha
so you haven't seen it yet that's right
yeah so this is this Jeff is awesome I'm
just gonna reach forward here because
I've actually got it running on an
Ethernet cable with the power going to
it so this is an ode roid hc1 okay and
the H c1 has something really great in
that it has an SATA back plane so I in
fact have oh one terabyte kingston SSD
running inside this single board
computer chassis you'll notice I also
have added the battery so I added a
real-time clock battery they're like a
couple bucks so I thought hey I better
add that because when the power is lost
to the device I don't want to have to
figure out why it's not getting its
updates or whys this stuff isn't working
because if the clock reverts to 2016
then you have all kinds of weird
anomalies so but needless to say I set
that up as a seed server and in fact
Odroid magazine has published in the
April issue my write-up about how to set
that out so if you look at Odroid
magazine April 2019 you can follow along
the steps that are there they're very
detailed and it's very copy and paste
and explains how you can in fact set
this up it's not just for Odroid HC ones
this particular type of single board
computer right but this I think is the
perfect solution it uses an SD card to
boot from and where the software resides
in it but then all the storage for the
BitTorrent files the downloads go on to
the SSD right so you're not saving those
to like an SD card or an e MMC card and
running out of space right away as I
mentioned this is a one terabyte well
960 it's 960 gigs for a solid-state
drive and it's like a consumer a
consumer Kingston Drive so I gotta hop
on to our server so I've actually got
this connected to my network right now
at 10.00 dot one four five and if I go :
ninety ninety-one
and then the default username and
password is transmission transmission
and this is gonna show us what my
BitTorrent server looks like right now
so Jeff you can see we've got a couple
of things still downloading because I'm
also I'm seeding and pardon me I'm
seeding NEMS Linux you can see there
near the bottom and up near the top I'm
seating category five complete seasons
so seasons one through eleven are all
gonna be seeded by this little box so if
people want another pot of content right
it's pretty much you know it's
practically filling a one terabyte drive
but that makes sure so if you download
category five technology TV from torrent
dot category five dot TV it's a free way
to get our content and it's absolutely
legal because us the content creators
have released it to free of charge so
it's free for you to download so there
are numerous seeds so people who are
sharing those files with the public as a
way of supporting what we do by sharing
it with others and if all else fails if
there were no other seeds say or maybe
if there are ten seeds and ours just
happens to be closer to you you may in
fact be downloading it from our little
HC one server look at that
that's how BitTorrent works and you may
download half of it from our server and
half of it from another person's server
and it's it could be anything
but that's kind of how how that works so
it ensures that there's always a copy of
category-five TV on our seed servers so
that if someone tries to download it is
there it's available no matter what I
love it I love it - Jeff so these are
the torrents that I have on there right
now so it's all our own content it's
NEMS Linux as well that's a distro that
I create and you can see okay so I've
got all of season one so hey I'm really
into those old webcam videos that Robbie
used to make out of his basement pretty
4k this was before 16k was a thing
actually this was like a 320 p4 over 3
we're not even going to get into it
but it goes right up to season 11 and
you see that it's still queuing for
verification because I actually did some
work on the server today so it's just
kind of reloading a few things but you
can get like season 5 season 6 but now
that I've downloaded these Jeff what
options do I have I can pause it because
you know remember all that I'm looking
at here is my torrent bit torrent system
so I can add new torrents and download
them and it will download to the SSD but
and then I can share it with other
systems but I have no access to them in
order to unless you actually log in to
that and run it but you can't because
there's no there's no monitor on an hc1
there's no HDMI output or anything like
that it is literally just a server right
there's no there's no plex server built
into it there's it's just a basic Debbie
and install with transmission daemon
running ok that's it and we've mounted
an SSD as as a mount point in slash home
slash Robbie / SSD slash torrents so
then how do you get in how do we get in
that's the question and that's what
we're here to learn today as we take
this tutorial to the next step which is
to gain access to those files so now
that I've got these downloads created
like these downloads have happened
they're there now let's actually make it
so that we can access those cool I can
actually ssh into that server my login
is robbie my password is 1 2 3 4 as you
know so it's very secure absolutely
alright let's get a nice little close-up
shot here for you yeah alright okay so
first of all so now I'm just logged into
my ssh terminal session so there's
really not a lot to do on this box
because all I have is so let's go into
home slash Robbie and you see Jeff
there's a folder called SSD and in that
is torrents and if I go into torrents
whoa so it's pretty yeah it is very
vanilla so there's those are my
downloads okay okay so
now what I want to do is I want to
actually be able to access it from my
Windows computer my Mac my Linux machine
on my machine here of course I'm on
Microsoft Windows you could be on
anything the commands are a little bit
different but on Linux are on Windows
pardon me we know that the command to
access a Samba share a network share and
Nass is slash slash and then the IP
address 10.0.0.0 not and I'm gonna
timeout and it's gonna say well there's
there's nothing there right because
we've never said anything up for that so
what we want to do is we want to now
take this to the next level so our
BitTorrent server is not only going to
be a BitTorrent seed server it's now
going to also become an ass network
attached storage and a network attached
storage device allows us to access it
through our Samba shares so Windows
cannot access it check the spelling blah
blah blah that's because it doesn't
exist yet so let's jump back over to
here and let's go sudo su that's going
to help us to become root and I'm going
to type my password and I'm gonna type
apt update if my clock is set correctly
this should go through pretty well if
you get an error about the certificate
being in the future something like that
then you know that it's because your
clock is set incorrectly it actually
looks like one of our hosts there is in
fact down because it looks like it's
timing out yeah
and that can happen because you know if
a particular host that's in the
sources.list is not available there you
go
could not connect to that particular one
that's okay that's different from a
that's a timeout because of theirs
oh but now look at what I'm seeing
release file updates for this repository
will not be replied invalid for another
55 days oh come on it happened to me so
I plugged in the battery Jeff but I
didn't reset my date look at this
February 14th Oh what's today as we
record this it's the 10th so I
do this a kind of on purpose sometimes
because I want you to see how to resolve
these issues you're making problems no
but when a problem happens I want you to
see why and how to fix it I'm not gonna
fix it before I do the show and we could
be that show there are a lot of shows
out there on YouTube that it's
perfection but then as soon as you hit a
snag like this you're like well I did
apt update and it won't do it right now
what do I do and then you've got it
again I'm gonna show you what the
problem is
so I mentioned it what we want to do is
head on over to my blog which is balled
nerd calm slash nerdgasm z-- and in my
nerdgasm list you will see a tool called
set Linux time and date pretty simple
right highlight the first line copy it
to your clipboard and this is actually
running a this is the command to set the
time and date accurately to the current
time and date so I just pasted that into
my terminal and now April 10th
7:18 p.m. as we broadcast this Eastern
Time so now let's do apt update and
let's see if anything is different we're
still timing out at MDR J our net looks
like that server is just it just happens
to be offline while we're broadcasting
live and there's nothing I can do about
that I could comment it out if we felt
we didn't need it permanently sometimes
that can happen but they may be down for
maintenance or something like that and
when I say commented out you could
comment it out of your / etc' slash apt
/ sources lis t file or there's a
sources dot Li STD folder where there
could be some files residing as well
that error is different than the one
that we received afterwards
so that's seem to work that worked
except failed to fetch MD RJ R net
that's Mavericks repository could not
connect so their server just happens to
be down right now you may not encounter
that one it's not related to the time
funk problem but you notice that the
time if you've been 55 days in the
future is not an issue any longer so now
I can type apt install Samba s a.m. ba
get a little closer in there for you apt
install some
reason that I want to do apt update
first is because it's going to now make
sure that I'm getting the most current
version from the repository make sense
it gets the new repository list it's
telling me it's got all this junk to
install the main thing that I want to
check here of course these are called
dependencies on Linux these are things
that are required in order to have Samba
just double check where it says to
remove zero to remove if that said one
to remove or five to remove then I need
to look a lot closer and make sure that
the things that are being removed are
not going to break something else that I
use on my system sometimes that can
happen in this case it's not going to
remove anything it's only going to
install 34 newly installed applications
or tools and I'm gonna say yes and it's
also gonna upgrade incidentally 14 of
those for me so here it goes it's
installing this tool called Samba Samba
is an implementation of the SMB protocol
so SMB is what allows Windows networks
to share files so they'll a term that
you might be familiar with would be
Windows File Sharing right when you
right click on a folder and you type and
you press share and then you give it a
name torrents now you can access that
from any computer on the network that's
through the Samba protocol SMB so Samba
is the Linux implementation of that
protocol this is asking if we want to
use win asks for DHCP we don't need that
I can just say no whatever and carry on
here we go it's installing its thing
so this again is a very vanilla install
we've got a couple of little issues here
and there but it doesn't it's nothing to
write home about it's a very basic
Debian buster install as a matter of
fact because this is the new bald nerd
base image that you can get a bald nerd
comm while we're waiting to that for
that to install I can in fact show you
that new page please do if you go to
bald nerd comm and you click on single
board computers and then you'll see SBC
build base and there are builds so these
are Debian Buster right now because
here's the thing I found that everything
that's available is Debian stretch
Debian 9 I want Debian 10
right it's under feature lock it is
gonna go stable very very soon I don't
want to wait for for it to be released
six months from now it's there now so so
I've actually compiled and released my
own distros powered by NEMS linux and
the tools that I've built there so we've
got Debian 10 for a 64 plus from Pine 64
rock 60 for a 64 LTS so pine Odroid n2
that board is not even available yet but
it's got an OS X u 3x u 4 HC 1 HC 2 that
is what this one is running right now
the HC 1 bill nano PI M 4 and the asou
spilled base has the tinker board and
the tinker bill board s as well so those
are built base images of Debian 10
completely unrelated to this
demonstration but I want you to know
that those are there if you ever want to
build a server or if you need a base
image for a Linux distribution that
you're creating that's a good way to do
it it's are a lot of the work is already
done for you that is done installing so
samba now exists so presumably does that
mean Jeff that I can now just simply go
over there 10.0.0.0 what I didn't get
the error this time but what do I see
nothing absolutely nothing now is that a
permissions thing no it's that I haven't
created any shares yet right zombies
running yeah ok but there's no shares
right well this is a little server with
no monitor it has no GUI there's no
mouse or keyboard connected to it how
the heck do I now right-click on the
folder and tell it to share Jennie SSH
you're used to right well I'm already
SSH den so good good guess that's
definitely how we're gonna do it
but it's not gonna be done through a UI
whatsoever
I'm gonna go nano okay first of all look
at the folder that I'm currently in I
want you to observe that that's
important slash home slash Rob u /s s de
slash Torrance because that's where all
my torrents reside remember so that's
the folder that I actually want to gain
access to right so yours may be
different your names probably not Robbie
so it might be slash home slash Jeff
/ SSD if that's what you called your
mount point / Torrance so keeping that
in mind let's go nan-oh / ET c / Samba /
SMB Kant's and that file now exists it
wouldn't have before we installed Samba
but I want to actually get to the bottom
of the file so I can sit here click
click click click click or in nano I can
hit alt / and that will take me right to
the very bottom of the file and I want
to create my first share so we're gonna
do that long hand I'm gonna call this
torrent so I'm going to put a hard brace
torrents and then a closing hard brace
next line I'm gonna go read-only equals
yes and the reason I'm doing that is I
don't want anyone to be able to make
changes to my torn download folder why
because those are seeds exactly if
somebody renamed a file or changed any
little bit of the structure of anything
or entered a folder and their Windows
machine dropped like thumbnails cache
now all of a sudden that seed is corrupt
because the checksum no longer matches
so in this case I want this to be
read-only because we're doing torrents
locking equals no probably not necessary
so we're not going to get into it path
equals it well because it's not
necessary let's just delete it
path this is what I mentioned before
this is where the files are located
where the folder is that I want to share
this is what I'm right-clicking on right
now put it in quotes that's gonna save
you a lot of grief if you have any odd
characters like spaces home / Rabi / SSD
slash torrents next line are we have to
make a decision do we want guest access
to do we want them to have to log in and
my network I want them to have to log in
so I'm gonna say guest ok equals no no
valid users equals and do you remember
my username Jeff Robbie yeah that's
right
enter it just like it is on your Linux
system user name is Robbie that's it I
think I'm done so now if I close there
the next step is that I need to restart
Samba in order for it to for the change
to take effect because I just changed
the entire what's shared so system CTL
restart SMB D and now it's done if you
didn't have any errors you won't see any
errors if you type system CTL status
smbd it should say active running
so now let's jump back to my Windows
Explorer here and type / / 1000 dot
and I click on it and and and yes I do
things incorrectly so that the viewers
at home can do it too and then you're
gonna learn why this is not going to
work okay so keep that in mind
I'm gonna use my username Robby which is
what I told it is allowed and enter my
password enter what surprise it's not
working is that because you didn't put
your password in no I entered my
password I just put it in my Linux user
right and I told the Linux is my Linux
user password it's what I use to SSH in
and everything else oh but wait Jeff I
forgot I was horrible acting it's an
amazing amazing moment right there Jeff
I forgot
Samba uses a different user database
than Linux so I need to create a Samba
user right so let's do that okay back at
SSH so here we go I'm not going to touch
anything on my Windows System there I
want to leave that password prompt up
let's type you ready for this
SMB pass would because for some reason
password is wood in Linux so SMB pas SW
D - a we're adding who are we adding
Jeff a user a user oh you want me to
come up with a name for them well what's
my name
Oh your name's Robbie I want it to match
my Linux user so yes I am Robbie now
okay we're setting up an S
be password for the user Robby what's my
password I'm gonna make it match my user
same password I don't have to make it
the same password but now added user
Robbie to Samba back here on Windows I
haven't changed a thing I'm gonna hit
okay now I'm in now I have read-only
access to my Samba share which is the
SSDs torrents folder right that my
BitTorrent client is able to save to
okay so now as somebody's BitTorrent
client gonna have to have permissions to
access we covered that on episode number
597
the permission what I mean by making
this change now it's not gonna change
anything with that setup it's read-only
okay so my settings that I've created
I'm not able to write anything to that
folder so permissions are not going to
be an issue if I was doing a read/write
operation that I would need to specify
which user are gonna is going to be
creating those files
it's not a it's not the case here
because it's only read-only so let's
actually I mean the the final test
really Jeff is to see does it work so
let's go into something reasonably
current season 11 and just double-click
on any file and there you go
there we are on the green screen oh my
goodness I forgot about the green screen
yeah Wow and I have no beard no beard at
all so baby face yeah was that seriously
only season 11 look at that so so outfit
it runs super well so now ladies and
gentlemen taking it to the next step our
BitTorrent server is now also a network
attached storage
[Music]
[Applause]
